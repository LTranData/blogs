"use strict";(self.webpackChunkkgajera_blog=self.webpackChunkkgajera_blog||[]).push([[1741],{3905:(n,t,e)=>{e.d(t,{Zo:()=>g,kt:()=>p});var a=e(7294);function i(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function c(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e.push.apply(e,a)}return e}function r(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?c(Object(e),!0).forEach((function(t){i(n,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):c(Object(e)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}))}return n}function l(n,t){if(null==n)return{};var e,a,i=function(n,t){if(null==n)return{};var e,a,i={},c=Object.keys(n);for(a=0;a<c.length;a++)e=c[a],t.indexOf(e)>=0||(i[e]=n[e]);return i}(n,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(n);for(a=0;a<c.length;a++)e=c[a],t.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(n,e)&&(i[e]=n[e])}return i}var h=a.createContext({}),o=function(n){var t=a.useContext(h),e=t;return n&&(e="function"==typeof n?n(t):r(r({},t),n)),e},g=function(n){var t=o(n.components);return a.createElement(h.Provider,{value:t},n.children)},m={inlineCode:"code",wrapper:function(n){var t=n.children;return a.createElement(a.Fragment,{},t)}},s=a.forwardRef((function(n,t){var e=n.components,i=n.mdxType,c=n.originalType,h=n.parentName,g=l(n,["components","mdxType","originalType","parentName"]),s=o(e),p=i,d=s["".concat(h,".").concat(p)]||s[p]||m[p]||c;return e?a.createElement(d,r(r({ref:t},g),{},{components:e})):a.createElement(d,r({ref:t},g))}));function p(n,t){var e=arguments,i=t&&t.mdxType;if("string"==typeof n||i){var c=e.length,r=new Array(c);r[0]=s;var l={};for(var h in t)hasOwnProperty.call(t,h)&&(l[h]=t[h]);l.originalType=n,l.mdxType="string"==typeof n?n:i,r[1]=l;for(var o=2;o<c;o++)r[o]=e[o];return a.createElement.apply(null,r)}return a.createElement.apply(null,e)}s.displayName="MDXCreateElement"},548:(n,t,e)=>{e.r(t),e.d(t,{assets:()=>h,contentTitle:()=>r,default:()=>m,frontMatter:()=>c,metadata:()=>l,toc:()=>o});var a=e(7462),i=(e(7294),e(3905));const c={slug:"mysql-series-mysql-indexing",title:"MySQL series - Indexing",authors:"tranlam",tags:["Bigdata","MySQL","Database","Data Engineering","Indexing"],image:"./images/indexing.PNG"},r=void 0,l={permalink:"/blogs/blog/mysql-series-mysql-indexing",editUrl:"https://github.com/lam1051999/blogs/edit/main/blog/2022-10-15-mysql-indexing/index.md",source:"@site/blog/2022-10-15-mysql-indexing/index.md",title:"MySQL series - Indexing",description:"Indexing l\xe0 ph\u01b0\u01a1ng ph\xe1p gi\xfap truy v\u1ea5n nhanh h\u01a1n, l\xe0 m\u1ed9t ph\u1ea7n r\u1ea5t quan tr\u1ecdng trong vi\u1ec7c c\u1ea3i thi\u1ec7n hi\u1ec7u n\u0103ng. \u0110\u1ed1i v\u1edbi c\xe1c b\u1ea3ng d\u1eef li\u1ec7u l\u1edbn, vi\u1ec7c \u0111\xe1nh index ch\xednh x\xe1c gi\xfap t\u0103ng t\u1ed1c \u0111\u1ed9 nhanh h\u01a1n g\u1ea5p nhi\u1ec1u l\u1ea7n, tuy nhi\xean, vi\u1ec7c n\xe0y th\u01b0\u1eddng kh\xf4ng \u0111\u01b0\u1ee3c t\xednh to\xe1n s\xe1t sao trong quy tr\xecnh thi\u1ebft k\u1ebf b\u1ea3ng. B\xe0i vi\u1ebft n\xe0y n\xf3i v\u1ec1 c\xe1c lo\u1ea1i index v\xe0 c\xe1ch \u0111\xe1nh index sao cho h\u1ee3p l\xfd.",date:"2022-10-15T00:00:00.000Z",formattedDate:"October 15, 2022",tags:[{label:"Bigdata",permalink:"/blogs/blog/tags/bigdata"},{label:"MySQL",permalink:"/blogs/blog/tags/my-sql"},{label:"Database",permalink:"/blogs/blog/tags/database"},{label:"Data Engineering",permalink:"/blogs/blog/tags/data-engineering"},{label:"Indexing",permalink:"/blogs/blog/tags/indexing"}],readingTime:5.955,truncated:!0,authors:[{name:"Tr\u1ea7n L\xe2m",title:"Data Engineer @ Giaohangtietkiem",url:"https://github.com/lam1051999",imageURL:"https://github.com/lam1051999.png",key:"tranlam"}],frontMatter:{slug:"mysql-series-mysql-indexing",title:"MySQL series - Indexing",authors:"tranlam",tags:["Bigdata","MySQL","Database","Data Engineering","Indexing"],image:"./images/indexing.PNG"},nextItem:{title:"MySQL series - Multiversion concurrency control",permalink:"/blogs/blog/mysql-series-mysql-mvcc"}},h={image:e(343).Z,authorsImageUrls:[void 0]},o=[{value:"1. C\xe1c lo\u1ea1i index",id:"1-c\xe1c-lo\u1ea1i-index",level:3},{value:"1.1. B-tree index",id:"11-b-tree-index",level:4},{value:"1.1.1. Adaptive hash index",id:"111-adaptive-hash-index",level:5},{value:"1.1.2. C\xe1c lo\u1ea1i truy v\u1ea5n c\xf3 th\u1ec3 d\xf9ng B-tree index",id:"112-c\xe1c-lo\u1ea1i-truy-v\u1ea5n-c\xf3-th\u1ec3-d\xf9ng-b-tree-index",level:5},{value:"1.1.3. M\u1ed9t s\u1ed1 nh\u01b0\u1ee3c \u0111i\u1ec3m c\u1ee7a B-tree index",id:"113-m\u1ed9t-s\u1ed1-nh\u01b0\u1ee3c-\u0111i\u1ec3m-c\u1ee7a-b-tree-index",level:5},{value:"1.2. Full-text index",id:"12-full-text-index",level:4},{value:"1.2.1. C\xe1c lo\u1ea1i full-text index",id:"121-c\xe1c-lo\u1ea1i-full-text-index",level:5},{value:"2. L\u1ee3i \xedch vi\u1ec7c \u0111\xe1nh index",id:"2-l\u1ee3i-\xedch-vi\u1ec7c-\u0111\xe1nh-index",level:3},{value:"3. Chi\u1ebfn thu\u1eadt \u0111\xe1nh index",id:"3-chi\u1ebfn-thu\u1eadt-\u0111\xe1nh-index",level:3}],g={toc:o};function m(n){let{components:t,...c}=n;return(0,i.kt)("wrapper",(0,a.Z)({},g,c,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"Indexing l\xe0 ph\u01b0\u01a1ng ph\xe1p gi\xfap truy v\u1ea5n nhanh h\u01a1n, l\xe0 m\u1ed9t ph\u1ea7n r\u1ea5t quan tr\u1ecdng trong vi\u1ec7c c\u1ea3i thi\u1ec7n hi\u1ec7u n\u0103ng. \u0110\u1ed1i v\u1edbi c\xe1c b\u1ea3ng d\u1eef li\u1ec7u l\u1edbn, vi\u1ec7c \u0111\xe1nh index ch\xednh x\xe1c gi\xfap t\u0103ng t\u1ed1c \u0111\u1ed9 nhanh h\u01a1n g\u1ea5p nhi\u1ec1u l\u1ea7n, tuy nhi\xean, vi\u1ec7c n\xe0y th\u01b0\u1eddng kh\xf4ng \u0111\u01b0\u1ee3c t\xednh to\xe1n s\xe1t sao trong quy tr\xecnh thi\u1ebft k\u1ebf b\u1ea3ng. B\xe0i vi\u1ebft n\xe0y n\xf3i v\u1ec1 c\xe1c lo\u1ea1i index v\xe0 c\xe1ch \u0111\xe1nh index sao cho h\u1ee3p l\xfd."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Indexing",src:e(343).Z,width:"786",height:"668"})),(0,i.kt)("h3",{id:"1-c\xe1c-lo\u1ea1i-index"},"1. C\xe1c lo\u1ea1i index"),(0,i.kt)("p",null,"C\xf3 r\u1ea5t nhi\u1ec1u lo\u1ea1i index thi\u1ebft k\u1ebf cho nhi\u1ec1u m\u1ee5c \u0111\xedch kh\xe1c nhau. N\xean nh\u1edb r\u1eb1ng, index \u0111\u01b0\u1ee3c tri\u1ec3n khai \u1edf storage engine, kh\xf4ng ph\u1ea3i \u1edf t\u1ea7ng server, do v\u1eady, ch\xfang ho\u1ea1t \u0111\u1ed9ng kh\xe1c nhau \u1edf c\xe1c storage engine kh\xe1c nhau. C\xe1c lo\u1ea1i index \u1edf b\xe0i vi\u1ebft n\xe0y ch\u1ee7 y\u1ebfu v\u1ec1 index trong InnoDB."),(0,i.kt)("h4",{id:"11-b-tree-index"},"1.1. B-tree index"),(0,i.kt)("p",null,"B-tree index d\xf9ng c\xe2y c\xe2n b\u1eb1ng \u0111\u1ec3 l\u01b0u tr\u1eef d\u1eef li\u1ec7u c\u1ee7a n\xf3, h\u1ea7u nh\u01b0 t\u1ea5t c\u1ea3 storage engine c\u1ee7a MySQL \u0111\u1ec1u h\u1ed7 tr\u1ee3 ki\u1ec3u index n\xe0y (ho\u1eb7c l\xe0 bi\u1ebfn th\u1ec3 c\u1ee7a n\xf3), v\xed d\u1ee5, NDB Cluster storage engine s\u1eed d\u1ee5ng c\u1ea5u tr\xfac d\u1eef li\u1ec7u T-tree cho indexing, InnoDB s\u1eed d\u1ee5ng B+ tree,...\nTrong B-tree, t\u1ea5t c\u1ea3 gi\xe1 tr\u1ecb \u0111\u1ec1u \u0111\u01b0\u1ee3c s\u1eafp x\u1ebfp, v\xe0 c\xe1c l\xe1 (leaf) \u0111\u1ec1u c\xf3 kho\u1ea3ng c\xe1ch b\u1eb1ng nhau t\u1edbi g\u1ed1c (root) c\u1ee7a c\xe2y. D\u01b0\u1edbi \u0111\xe2y h\xecnh l\xe0 m\xf4 t\u1ea3 c\u1ea5u tr\xfac d\u1eef li\u1ec7u B-tree. "),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"B Tree",src:e(1773).Z,width:"1306",height:"930"})),(0,i.kt)("p",null,"B-tree cung c\u1ea5p cho ta kh\u1ea3 n\u0103ng t\xecm ki\u1ebfm, truy c\u1eadp d\u1eef li\u1ec7u tu\u1ea7n t\u1ef1, ch\xe8n v\xe0 xo\xe1 v\u1edbi \u0111\u1ed9 ph\u1ee9c t\u1ea1p logarithmic ",(0,i.kt)("span",{parentName:"p",className:"math math-inline"},(0,i.kt)("span",{parentName:"span",className:"katex"},(0,i.kt)("span",{parentName:"span",className:"katex-mathml"},(0,i.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,i.kt)("semantics",{parentName:"math"},(0,i.kt)("mrow",{parentName:"semantics"},(0,i.kt)("mi",{parentName:"mrow"},"O"),(0,i.kt)("mo",{parentName:"mrow",stretchy:"false"},"("),(0,i.kt)("mi",{parentName:"mrow"},"l"),(0,i.kt)("mi",{parentName:"mrow"},"o"),(0,i.kt)("mi",{parentName:"mrow"},"g"),(0,i.kt)("mo",{parentName:"mrow",stretchy:"false"},"("),(0,i.kt)("mi",{parentName:"mrow"},"n"),(0,i.kt)("mo",{parentName:"mrow",stretchy:"false"},")"),(0,i.kt)("mo",{parentName:"mrow",stretchy:"false"},")")),(0,i.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"{O(log(n))}")))),(0,i.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,i.kt)("span",{parentName:"span",className:"base"},(0,i.kt)("span",{parentName:"span",className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,i.kt)("span",{parentName:"span",className:"mord"},(0,i.kt)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.02778em"}},"O"),(0,i.kt)("span",{parentName:"span",className:"mopen"},"("),(0,i.kt)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.01968em"}},"l"),(0,i.kt)("span",{parentName:"span",className:"mord mathnormal"},"o"),(0,i.kt)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.03588em"}},"g"),(0,i.kt)("span",{parentName:"span",className:"mopen"},"("),(0,i.kt)("span",{parentName:"span",className:"mord mathnormal"},"n"),(0,i.kt)("span",{parentName:"span",className:"mclose"},"))")))))),". \u1ede root node s\u1ebd c\xf3 con tr\u1ecf tr\u1ecf \u0111\u1ebfn c\xe1c node con, khi ta truy v\u1ea5n, storage engine s\u1ebd bi\u1ebft nh\xe1nh node con ph\xf9 h\u1ee3p \u0111\u1ec3 duy\u1ec7t b\u1eb1ng c\xe1c nh\xecn v\xe0o c\xe1c gi\xe1 tr\u1ecb trong node pages, ch\u1ee9a th\xf4ng tin ng\u01b0\u1ee1ng tr\xean v\xe0 ng\u01b0\u1ee1ng d\u01b0\u1edbi gi\xe1 tr\u1ecb c\xe1c node con trong page \u0111\xf3. \u1ede t\u1ea7ng leaf page, c\xe1c con tr\u1ecf tr\u1ecf \u0111\u1ebfn d\u1eef li\u1ec7u thay v\xec tr\u1ecf t\u1edbi c\xe1c page kh\xe1c."),(0,i.kt)("p",null,"\u1ede h\xecnh tr\xean, ch\xfang ta ch\u1ec9 nh\xecn th\u1ea5y 1 node page v\xe0 c\xe1c leaf page. Th\u1ef1c t\u1ebf B-tree c\xf3 r\u1ea5t nhi\u1ec1u t\u1ea7ng node page gi\u1eefa root node v\xe0 leaf nodes, \u0111\u1ed9 l\u1edbn c\u1ee7a c\xe2y d\u1ef1a v\xe0o \u0111\u1ed9 l\u1edbn c\u1ee7a b\u1ea3ng \u0111\u01b0\u1ee3c \u0111\xe1nh index."),(0,i.kt)("h5",{id:"111-adaptive-hash-index"},"1.1.1. Adaptive hash index"),(0,i.kt)("p",null,"Khi c\xe1c gi\xe1 tr\u1ecb index \u0111\u01b0\u1ee3c truy c\u1eadp v\u1edbi t\u1ea7n s\u1ed1 cao, InnoDB s\u1ebd d\u1ef1ng m\u1ed9t b\u1ed9 hash index cho ch\xfang \u1edf memory tr\xean n\u1ec1n c\u1ee7a B-tree index, gi\xfap ch\xfang ta c\xf3 th\u1ec3 t\xecm ki\u1ebfm gi\xe1 tr\u1ecb hash n\xe0y r\u1ea5t nhanh v\xe0 hi\u1ec7u qu\u1ea3. Ch\u1ebf \u0111\u1ed9 n\xe0y l\xe0 t\u1ef1 \u0111\u1ed9ng b\u1edfi InnoDB, tuy nhi\xean, b\u1ea1n v\u1eabn c\xf3 th\u1ec3 v\xf4 hi\u1ec7u ho\xe1 adaptive hash index n\u1ebfu mu\u1ed1n."),(0,i.kt)("h5",{id:"112-c\xe1c-lo\u1ea1i-truy-v\u1ea5n-c\xf3-th\u1ec3-d\xf9ng-b-tree-index"},"1.1.2. C\xe1c lo\u1ea1i truy v\u1ea5n c\xf3 th\u1ec3 d\xf9ng B-tree index"),(0,i.kt)("p",null,"B-tree index ho\u1ea1t \u0111\u1ed9ng hi\u1ec7u qu\u1ea3 v\u1edbi c\xe1c lo\u1ea1i truy v\u1ea5n ch\xednh x\xe1c gi\xe1 tr\u1ecb, m\u1ed9t kho\u1ea3ng gi\xe1 tr\u1ecb, hay m\u1ed9t ti\u1ec1n t\u1ed1 gi\xe1 tr\u1ecb. C\xe1c truy v\u1ea5n n\xe0y l\xe0 t\u1ed1t nh\u1ea5t khi ch\xfang ta d\xf9ng ch\xfang tr\xean c\u1ed9t tr\xe1i nh\u1ea5t trong t\u1eadp c\u1ed9t \u0111\u01b0\u1ee3c \u0111\xe1nh index."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-mysql"},"CREATE TABLE People (\n     last_name varchar(50) not null,\n     first_name varchar(50) not null,\n     dob date not null,\n     KEY `idx_full_col` (last_name, first_name, dob)\n) ENGINE=InnoDB;\n")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Kh\u1edbp ch\xednh x\xe1c gi\xe1 tr\u1ecb: khi c\xe1c c\u1ed9t trong index \u0111\u01b0\u1ee3c query kh\u1edbp \u0111\xfang gi\xe1 tr\u1ecb n\xe0o \u0111\xf3, v\xed d\u1ee5 ",(0,i.kt)("inlineCode",{parentName:"li"},"WHERE last_name = 'lam' AND first_name = 'tran' AND dob = '1999-05-10'"),". Truy v\u1ea5n lo\u1ea1i n\xe0y s\u1ebd tr\u1ea3 v\u1ec1 k\u1ebft qu\u1ea3 r\u1ea5t nhanh."),(0,i.kt)("li",{parentName:"ul"},"Kh\u1edbp c\u1ed9t tr\xe1i nh\u1ea5t: V\xed d\u1ee5 n\u1ebfu ta truy v\u1ea5n t\xecm ng\u01b0\u1eddi c\xf3 ",(0,i.kt)("inlineCode",{parentName:"li"},"last_name = 'lam'"),"."),(0,i.kt)("li",{parentName:"ul"},"Kh\u1edbp ph\u1ea7n \u0111\u1ea7u c\u1ee7a c\u1ed9t tr\xe1i nh\u1ea5t: V\xed d\u1ee5 khi ta t\xecm ng\u01b0\u1eddi c\xf3 last_name b\u1eaft \u0111\u1ea7u b\u1eb1ng ch\u1eef 'L'."),(0,i.kt)("li",{parentName:"ul"},"Kh\u1edbp m\u1ed9t kho\u1ea3ng gi\xe1 tr\u1ecb: Khi ta c\u1ea7n l\u1ea5y t\u1eadp ng\u01b0\u1eddi c\xf3 last_name \u1edf gi\u1eefa 'anh' v\xe0 'lam'."),(0,i.kt)("li",{parentName:"ul"},"Kh\u1edbp c\u1ed9t tr\xe1i nh\u1ea5t v\xe0 m\u1ed9t kho\u1ea3ng gi\xe1 tr\u1ecb c\u1ed9t ti\u1ebfp theo: V\xed d\u1ee5 khi ta c\u1ea7n th\xf4ng tin nh\u1eefng ng\u01b0\u1eddi last_name l\xe0 'lam' v\xe0 first_name b\u1eaft \u0111\u1ea7u b\u1eb1ng ch\u1ee9 't'.")),(0,i.kt)("h5",{id:"113-m\u1ed9t-s\u1ed1-nh\u01b0\u1ee3c-\u0111i\u1ec3m-c\u1ee7a-b-tree-index"},"1.1.3. M\u1ed9t s\u1ed1 nh\u01b0\u1ee3c \u0111i\u1ec3m c\u1ee7a B-tree index"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"N\xf3 s\u1ebd kh\xf4ng th\u1ef1c s\u1ef1 c\xf3 \xedch khi \u0111i\u1ec1u ki\u1ec7n truy v\u1ea5n kh\xf4ng b\u1eaft \u0111\u1ea7u b\u1eb1ng c\u1ed9t tr\xe1i nh\u1ea5t, c\u0169ng nh\u01b0 kh\xf4ng t\u1ed1t khi truy v\u1ea5n t\xecm nh\u1eefng ng\u01b0\u1eddi c\xf3 last_name k\u1ebft th\xfac b\u1eb1ng ch\u1eef c\u1ee5 th\u1ec3."),(0,i.kt)("li",{parentName:"ul"},"C\xe1c truy v\u1ea5n b\u1ecf qu\xe3ng m\u1ed9t s\u1ed1 c\u1ed9t c\u0169ng kh\xf4ng t\u1eadn d\u1ee5ng h\u1ebft \u0111\u01b0\u1ee3c l\u1ee3i \xedch index. V\xed d\u1ee5 khi t\xecm nh\u1eefng ng\u01b0\u1eddi c\xf3 ",(0,i.kt)("inlineCode",{parentName:"li"},"last_name = 'lam' AND dob = '1999-05-10'")," m\xe0 kh\xf4ng c\xf3 \u0111i\u1ec1u ki\u1ec7n tr\xean first_name."),(0,i.kt)("li",{parentName:"ul"},"Index ki\u1ec3u n\xe0y s\u1ebd kh\xf4ng t\u1eadn d\u1ee5ng ph\u1ea7n c\xe1c c\u1ed9t \u0111\u1eb1ng sau c\u1ed9t kh\u1edbp kho\u1ea3ng gi\xe1 tr\u1ecb. V\xed d\u1ee5, truy v\u1ea5n ng\u01b0\u1eddi ",(0,i.kt)("inlineCode",{parentName:"li"},"last_name = 'lam' AND first_name LIKE 't%' AND dob = '1999-05-10'")," s\u1ebd ch\u1ec9 \xe1p d\u1ee5ng index tr\xean 2 c\u1ed9t last_name v\xe0 first_name. V\u1edbi nh\u1eefng c\u1ed9t \xedt d\u1eef li\u1ec7u ph\xe2n bi\u1ec7t, ta c\xf3 th\u1ec3 overcome c\xe1i n\xe0y b\u1eb1ng vi\u1ec7c li\u1ec7t k\xea t\u1ea5t c\u1ea3 gi\xe1 tr\u1ecb thay v\xec truy c\u1eadp kho\u1ea3ng gi\xe1 tr\u1ecb.")),(0,i.kt)("p",null,"Nh\u01b0 v\u1eady, th\u1ee9 t\u1ef1 c\u1ee7a c\xe1c c\u1ed9t trong index th\u1ef1c s\u1ef1 r\u1ea5t quan tr\u1ecdng, b\u1ea1n c\u1ea7n xem x\xe9t m\u1ee5c ti\xeau truy v\u1ea5n c\u1ee7a \u1ee9ng d\u1ee5ng tr\u01b0\u1edbc khi \u0111\xe1nh index cho c\xe1c c\u1ed9t."),(0,i.kt)("h4",{id:"12-full-text-index"},"1.2. Full-text index"),(0,i.kt)("p",null,"Full-text index t\xecm ki\u1ebfm c\xe1c t\u1eeb kho\xe1 trong chu\u1ed7i ch\u1eef thay v\xec so s\xe1nh tr\u1ef1c ti\u1ebfp c\u1ea3 gi\xe1 tr\u1ecb c\u1ee7a tr\u01b0\u1eddng \u0111\xf3. N\xf3 h\u1ed7 tr\u1ee3 cho vi\u1ec7c t\xecm ki\u1ebfm h\u01a1n l\xe0 vi\u1ec7c suy x\xe9t d\u1eef li\u1ec7u kh\u1edbp v\u1edbi ki\u1ec3u n\xe0o. Khi m\u1ed9t c\u1ed9t \u0111\u01b0\u1ee3c \u0111\xe1nh full-text index, ta v\u1eabn c\xf3 th\u1ec3 \u0111\xe1nh B-tree index tr\xean c\u1ed9t \u0111\xf3 \u0111\u01b0\u1ee3c."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-mysql"},"CREATE TABLE tutorial (\n    id INT UNSIGNED AUTO_INCREMENT NOT NULL PRIMARY KEY, \n    title VARCHAR(200), \n    description TEXT, \n    FULLTEXT `idx_full_text` (title,description)\n) ENGINE=InnoDB;\n")),(0,i.kt)("p",null,"Full-text index \u0111\u01b0\u1ee3c d\xf9ng b\u1eb1ng c\xfa ph\xe1p ",(0,i.kt)("inlineCode",{parentName:"p"},"MATCH() AGAINST()")," v\u1edbi tham s\u1ed1 c\u1ee7a ",(0,i.kt)("inlineCode",{parentName:"p"},"MATCH()")," l\xe0 c\xe1c c\u1ed9t \u0111\u1ec3 t\xecm ki\u1ebfm, c\xe1ch nhau b\u1eb1ng d\u1ea5u ph\u1ea3y, tham s\u1ed1 c\u1ee7a ",(0,i.kt)("inlineCode",{parentName:"p"},"AGAINST()")," l\xe0 chu\u1ed7i \u0111\u1ec3 t\xecm ki\u1ebfm c\xf9ng lo\u1ea1i t\xecm ki\u1ebfm \u0111\u1ec3 th\u1ef1c hi\u1ec7n."),(0,i.kt)("h5",{id:"121-c\xe1c-lo\u1ea1i-full-text-index"},"1.2.1. C\xe1c lo\u1ea1i full-text index"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Natural language search: ch\u1ebf \u0111\u1ed9 n\xe0y s\u1ebd di\u1ec5n gi\u1ea3i chu\u1ed7i ch\u1eef t\xecm ki\u1ebfm d\u01b0\u1edbi d\u1ea1ng m\u1ed9t c\u1ee5m t\u1eeb trong ng\xf4n ng\u1eef t\u1ef1 nhi\xean c\u1ee7a con ng\u01b0\u1eddi. Ch\u1ebf \u0111\u1ed9 n\xe0y kh\xf4ng t\xednh c\xe1c stopwords c\u0169ng nh\u01b0 c\xe1c t\u1eeb ng\u1eafn h\u01a1n s\u1ed1 k\xed t\u1ef1 t\u1ed1i thi\u1ebfu (m\u1eb7c \u0111\u1ecbnh l\xe0 3 k\xed t\u1ef1 v\u1edbi InnoDB)"),(0,i.kt)("li",{parentName:"ul"},"Boolean search: di\u1ec5n gi\u1ea3i chu\u1ed7i ch\u1eef t\xecm ki\u1ebfm s\u1eed d\u1ee5ng quy t\u1eafc ng\xf4n ng\u1eef truy v\u1ea5n \u0111\u1eb7c bi\u1ec7t. Chu\u1ed7i ch\u1ee9 \u0111\xf3 ch\u1ee9a t\u1ea5t c\u1ea3 c\xe1c t\u1eeb c\u1ea7n t\xecm ki\u1ebfm, n\xf3 c\u0169ng c\xf3 th\u1ec3 ch\u1ee9a c\xe1c operator \u0111\u1eb7c bi\u1ec7t cho c\xe1c t\xecm ki\u1ebfm n\xe2ng cao, nh\u01b0 m\u1ed9t t\u1eeb c\u1ea7n ph\u1ea3i \u0111\u01b0\u1ee3c xu\u1ea5t hi\u1ec7n trong chu\u1ed7i, hay t\u1eeb \u0111\u01b0\u1ee3c \u0111\xe1nh tr\u1ecdng s\u1ed1 n\u1eb7ng h\u01a1n hay nh\u1eb9 h\u01a1n. C\xe1c stop words s\u1ebd b\u1ecb b\u1ecf qua trong ch\u1ebf \u0111\u1ed9 n\xe0y."),(0,i.kt)("li",{parentName:"ul"},"Query expansion: l\xe0 m\u1ed9t bi\u1ebfn th\u1ec3 c\u1ee7a natural language search. C\xe1c t\u1eeb trong c\xe1c rows li\xean quan nh\u1ea5t \u0111\u01b0\u1ee3c tr\u1ea3 v\u1ec1 s\u1ebd \u0111\u01b0\u1ee3c th\xeam v\xe0o chu\u1ed7i ch\u1eef t\xecm ki\u1ebfm, v\xe0 vi\u1ec7c t\xecm ki\u1ebfm s\u1ebd \u0111\u01b0\u1ee3c l\u1eb7p l\u1ea1i. Truy v\u1ea5n s\u1ebd tr\u1ea3 v\u1ec1 c\xe1c rows trong l\u1ea7n t\xecm ki\u1ebfm th\u1ee9 hai.")),(0,i.kt)("p",null,"M\xecnh s\u1ebd kh\xf4ng \u0111i v\xe0o chi ti\u1ebft t\u1eebng lo\u1ea1i, v\xec m\xecnh c\u0169ng \xedt khi d\xf9ng full-text index."),(0,i.kt)("h3",{id:"2-l\u1ee3i-\xedch-vi\u1ec7c-\u0111\xe1nh-index"},"2. L\u1ee3i \xedch vi\u1ec7c \u0111\xe1nh index"),(0,i.kt)("h3",{id:"3-chi\u1ebfn-thu\u1eadt-\u0111\xe1nh-index"},"3. Chi\u1ebfn thu\u1eadt \u0111\xe1nh index"))}m.isMDXComponent=!0},1773:(n,t,e)=>{e.d(t,{Z:()=>a});const a=e.p+"assets/images/BTree-54fbc71e9768b5e3aa1c78fd9cdb3bb7.PNG"},343:(n,t,e)=>{e.d(t,{Z:()=>a});const a=e.p+"assets/images/indexing-3225361f58a7e378996efe9e7464a3c1.PNG"}}]);